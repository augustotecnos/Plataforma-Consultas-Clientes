server {
    listen 80;
    server_name localhost;

    root /usr/share/nginx/html; 
    index index.html;

    location / {
    # Tenta servir o arquivo solicitado diretamente, depois como um diretório,
    # e se ambos falharem, retorna o index.html.
    # Isso é crucial para o roteamento do lado do cliente em SPAs.
    try_files $uri $uri/ /index.html;
    }

    # Opcional: Adicione headers de segurança para melhorar a proteção
    add_header X-Frame-Options "SAMEORIGIN";
    add_header X-Content-Type-Options "nosniff";
    add_header Referrer-Policy "no-referrer";
    add_header Content-Security-Policy "default-src 'self'; script-src 'self'; style-src 'self' 'unsafe-inline'; img-src 'self' data:; connect-src 'self' http://localhost:8000;"; # Ajuste o connect-src para a URL da sua API backend
}


#server {
#    listen 80;
#    server_name localhost;
#    
#    location / {
#        root /usr/share/nginx/html;
#        index index.html index.htm;
#        try_files $uri $uri/ /index.html;
#    }
#    
#    # Gzip compression
#    gzip on;
#    gzip_vary on;
#    gzip_min_length 1024;
#    gzip_proxied any;
#    gzip_comp_level 6;
#    gzip_types
#        text/plain
#        text/css
#        text/xml
#        text/javascript
#        application/json
#        application/javascript
#        application/xml+rss
#        application/atom+xml
#        image/svg+xml;
#    
#    # Security headers
#    add_header X-Frame-Options "SAMEORIGIN" always;
#    add_header X-Content-Type-Options "nosniff" always;
#    add_header X-XSS-Protection "1; mode=block" always;
#    
#    # Cache static assets
#    location ~* \.(js|css|png|jpg|jpeg|gif|ico|svg)$ {
#        expires 1y;
#        add_header Cache-Control "public, immutable";
#    }
#}


